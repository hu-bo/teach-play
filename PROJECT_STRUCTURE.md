# TeachPlay é¡¹ç›®ç»“æ„è¯´æ˜

## é¡¹ç›®æ¦‚è¿°

TeachPlay æ˜¯ä¸€å¥—å®Œæ•´çš„æ¸¸æˆè‡ªåŠ¨åŒ–ç³»ç»Ÿï¼Œæ”¯æŒæ•™å­¦å½•åˆ¶ã€æ™ºèƒ½è¯†åˆ«å’ŒAIå†³ç­–ã€‚ç³»ç»Ÿé‡‡ç”¨å‰åç«¯åˆ†ç¦»æ¶æ„ï¼Œä½¿ç”¨ Python åç«¯æœåŠ¡ + Tauri/React ç®¡ç†ç•Œé¢ã€‚

---

## å®Œæ•´ç›®å½•ç»“æ„

```
TeachPlay/
â”œâ”€â”€ README.md                           # é¡¹ç›®ä»‹ç»ã€å¼€å‘æŒ‡å—ã€ä½¿ç”¨è¯´æ˜
â”œâ”€â”€ LICENSE                             # å¼€æºè®¸å¯è¯(ä¸å¯äºŒæ¬¡å¼€å‘ç”¨äºå•†ä¸šåŒ–)
â”œâ”€â”€ .gitignore                          # Git å¿½ç•¥é…ç½®
â”œâ”€â”€ requirements.txt                    # Python å…¨å±€ä¾èµ–ï¼ˆå¯é€‰ï¼‰
â”œâ”€â”€ apps/                               # ã€åº”ç”¨å±‚ã€‘ç”¨æˆ·ç•Œé¢å’Œæ¡Œé¢åº”ç”¨
â”‚   â”œâ”€â”€ management-console/             # Tauri + React ç®¡ç†æ§åˆ¶å°
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ main/                   # Tauri ä¸»è¿›ç¨‹ (Rust)
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ main.rs             # å…¥å£æ–‡ä»¶
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ commands/           # Tauri å‘½ä»¤ï¼ˆè°ƒç”¨åç«¯ APIï¼‰
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ mod.rs
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ project.rs      # é¡¹ç›®ç®¡ç†å‘½ä»¤
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ recording.rs    # å½•åˆ¶ç®¡ç†å‘½ä»¤
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ execution.rs    # æ‰§è¡Œæ§åˆ¶å‘½ä»¤
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ state/              # åº”ç”¨çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ utils/              # å·¥å…·å‡½æ•°
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â””â”€â”€ renderer/               # React å‰ç«¯ç•Œé¢
â”‚   â”‚   â”‚       â”œâ”€â”€ public/             # é™æ€èµ„æº
â”‚   â”‚   â”‚       â”œâ”€â”€ src/
â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ App.tsx         # ä¸»åº”ç”¨ç»„ä»¶
â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ main.tsx        # å…¥å£æ–‡ä»¶
â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ components/     # å…¬å…±ç»„ä»¶
â”‚   â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ Layout/     # å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ RecordingList/  # å½•åˆ¶åˆ—è¡¨ç»„ä»¶
â”‚   â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ NodeEditor/     # èŠ‚ç‚¹ç¼–è¾‘å™¨
â”‚   â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ WindowSelector/ # çª—å£é€‰æ‹©å™¨
â”‚   â”‚   â”‚       â”‚   â”‚   â””â”€â”€ ActionEditor/   # åŠ¨ä½œç¼–è¾‘å™¨
â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ pages/          # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ Dashboard.tsx   # ä»ªè¡¨ç›˜
â”‚   â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ Projects.tsx    # é¡¹ç›®åˆ—è¡¨
â”‚   â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ ProjectDetail.tsx  # é¡¹ç›®è¯¦æƒ…(åŒ…å«æ‚¬æµ®çª—å£å½•åˆ¶)
â”‚   â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ RecordingEditor.tsx  # å½•åˆ¶ç¼–è¾‘å™¨
â”‚   â”‚   â”‚       â”‚   â”‚   â””â”€â”€ Settings.tsx    # è®¾ç½®é¡µé¢(å¯é€‰)
â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ services/       # API æœåŠ¡å°è£…
â”‚   â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ api.ts      # API å®¢æˆ·ç«¯
â”‚   â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ project.ts  # é¡¹ç›®ç›¸å…³ API
â”‚   â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ recording.ts    # å½•åˆ¶ç›¸å…³ API
â”‚   â”‚   â”‚       â”‚   â”‚   â””â”€â”€ execution.ts    # æ‰§è¡Œç›¸å…³ API
â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ hooks/          # è‡ªå®šä¹‰ React Hooks
â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ store/          # çŠ¶æ€ç®¡ç†ï¼ˆZustandï¼‰
â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ types/          # TypeScript ç±»å‹å®šä¹‰
â”‚   â”‚   â”‚       â”‚   â””â”€â”€ utils/          # å·¥å…·å‡½æ•°
â”‚   â”‚   â”‚       â”œâ”€â”€ index.html
â”‚   â”‚   â”‚       â”œâ”€â”€ tsconfig.json
â”‚   â”‚   â”‚       â””â”€â”€ vite.config.ts
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ src-tauri/                  # Tauri é…ç½®
â”‚   â”‚   â”‚   â”œâ”€â”€ Cargo.toml
â”‚   â”‚   â”‚   â”œâ”€â”€ tauri.conf.json         # Tauri é…ç½®æ–‡ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ build.rs
â”‚   â”‚   â”‚   â””â”€â”€ icons/                  # åº”ç”¨å›¾æ ‡
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ package.json
â”‚   â”‚   â””â”€â”€ README.md
â”‚   
â”œâ”€â”€ services/                           # ã€æœåŠ¡å±‚ã€‘Python FastAPI å¾®æœåŠ¡
â”‚   â”œâ”€â”€ management-api/                 # é¡¹ç›®å’Œèµ„æºç®¡ç† API
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”œâ”€â”€ main.py                 # FastAPI åº”ç”¨å…¥å£
â”‚   â”‚   â”‚   â”œâ”€â”€ config.py               # é…ç½®ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ controllers/            # è·¯ç”±æ§åˆ¶å™¨
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ project.py          # é¡¹ç›® CRUD
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ recording.py        # å½•åˆ¶æ–‡ä»¶ç®¡ç†
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ resource.py         # å›¾ç‰‡èµ„æºç®¡ç†
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ node.py             # èŠ‚ç‚¹ç¼–è¾‘ API
â”‚   â”‚   â”‚   â”œâ”€â”€ services/               # ä¸šåŠ¡é€»è¾‘å±‚
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ project_service.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ recording_service.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ minio_service.py    # MinIO æ–‡ä»¶å­˜å‚¨
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ node_service.py
â”‚   â”‚   â”‚   â”œâ”€â”€ models/                 # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ project.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ recording.py
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ node.py
â”‚   â”‚   â”‚   â”œâ”€â”€ schemas/                # Pydantic æ¨¡å¼
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ project.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ recording.py
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ node.py
â”‚   â”‚   â”‚   â””â”€â”€ utils/                  # å·¥å…·å‡½æ•°
â”‚   â”‚   â”‚       â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚       â”œâ”€â”€ database.py         # æ•°æ®åº“è¿æ¥
â”‚   â”‚   â”‚       â””â”€â”€ logger.py           # æ—¥å¿—å·¥å…·
â”‚   â”‚   â”œâ”€â”€ tests/                      # å•å…ƒæµ‹è¯•
â”‚   â”‚   â”‚   â”œâ”€â”€ test_project.py
â”‚   â”‚   â”‚   â”œâ”€â”€ test_recording.py
â”‚   â”‚   â”‚   â””â”€â”€ test_minio.py
â”‚   â”‚   â”œâ”€â”€ requirements.txt
â”‚   â”‚   â”œâ”€â”€ docker-compose.yml
â”‚   â”‚   â””â”€â”€ README.md
â”‚   â”‚
â”‚   â”œâ”€â”€ recorder-service/               # å½•åˆ¶æœåŠ¡ï¼ˆå±å¹•æ•è· + è¾“å…¥ç›‘å¬ï¼‰
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”œâ”€â”€ main.py                 # FastAPI å…¥å£
â”‚   â”‚   â”‚   â”œâ”€â”€ config.py
â”‚   â”‚   â”‚   â”œâ”€â”€ capture/                # å±å¹•æ•è·æ¨¡å—
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ base.py             # æŠ½è±¡åŸºç±»
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ windows_dxgi.py     # Windows DXGI å®ç°
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ macos_metal.py      # macOS Metal/AVFoundation
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ stream_manager.py   # è§†é¢‘æµç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ input/                  # è¾“å…¥ç›‘å¬æ¨¡å—
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ mouse_hook.py       # é¼ æ ‡é’©å­
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ keyboard_hook.py    # é”®ç›˜é’©å­
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ event_handler.py    # äº‹ä»¶å¤„ç†å™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ annotation/             # è‡ªåŠ¨æ ‡æ³¨æ¨¡å—
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ocr_annotator.py    # OCR æ–‡æœ¬æå–
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ui_tree_extractor.py    # UI æ ‘æå–
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ screenshot.py       # æˆªå›¾ä¿å­˜
â”‚   â”‚   â”‚   â”œâ”€â”€ storage/                # å­˜å‚¨æ¨¡å—
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ minio_client.py     # MinIO ä¸Šä¼ 
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ json_writer.py      # JSON åºåˆ—åŒ–
â”‚   â”‚   â”‚   â”œâ”€â”€ pipelines/              # å½•åˆ¶æµç¨‹ç¼–æ’
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ recorder.py         # ä¸»å½•åˆ¶å™¨
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ session_manager.py  # ä¼šè¯ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ api/                    # REST API
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ recording.py        # å½•åˆ¶æ§åˆ¶ API
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ window.py           # çª—å£é€‰æ‹© API
â”‚   â”‚   â”‚   â””â”€â”€ utils/
â”‚   â”‚   â”‚       â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚       â””â”€â”€ logger.py
â”‚   â”‚   â”œâ”€â”€ tests/
â”‚   â”‚   â”‚   â”œâ”€â”€ test_capture.py
â”‚   â”‚   â”‚   â”œâ”€â”€ test_input.py
â”‚   â”‚   â”‚   â””â”€â”€ test_recorder.py
â”‚   â”‚   â”œâ”€â”€ requirements.txt
â”‚   â”‚   â”œâ”€â”€ Dockerfile
â”‚   â”‚   â””â”€â”€ README.md
â”‚   â”‚
â”‚   â”œâ”€â”€ executor-service/               # æ‰§è¡ŒæœåŠ¡ï¼ˆå›æ”¾ + AI å†³ç­–ï¼‰
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”œâ”€â”€ main.py                 # FastAPI å…¥å£
â”‚   â”‚   â”‚   â”œâ”€â”€ config.py
â”‚   â”‚   â”‚   â”œâ”€â”€ playback/               # å›æ”¾æ¨¡å—
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ executor.py         # ä¸»æ‰§è¡Œå™¨
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ action_resolver.py  # åŠ¨ä½œè§£æå™¨
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ retry_handler.py    # é‡è¯•å’Œå®¹é”™
â”‚   â”‚   â”‚   â”œâ”€â”€ locator/                # å®šä½æ¨¡å—
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ strategy.py         # å®šä½ç­–ç•¥æ¥å£
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ui_tree_locator.py  # UI æ ‘å®šä½
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ocr_locator.py      # OCR æ–‡æœ¬å®šä½
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ template_locator.py # æ¨¡æ¿åŒ¹é…å®šä½
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ coord_fallback.py   # åæ ‡å›é€€
â”‚   â”‚   â”‚   â”œâ”€â”€ ai_nodes/               # AI å†³ç­–æ¨¡å—
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ agent_manager.py    # Agent ç®¡ç†å™¨
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ rule_agent.py       # è§„åˆ™å¼•æ“
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ llm_agent.py        # LLM å†³ç­–
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ state_encoder.py    # çŠ¶æ€ç¼–ç å™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ ocr/                    # OCR æ¨¡å—
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ paddle_ocr.py       # PaddleOCR å®ç°
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ lightweight_llm.py  # è½»é‡ LLM
â”‚   â”‚   â”‚   â”œâ”€â”€ matcher/                # åŒ¹é…æ¨¡å—
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ image_matcher.py    # å›¾åƒç›¸ä¼¼åº¦åŒ¹é…
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ text_matcher.py     # æ–‡æœ¬æ¨¡ç³ŠåŒ¹é…
â”‚   â”‚   â”‚   â”œâ”€â”€ async_flows/            # å¼‚æ­¥æµç¨‹
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ task_queue.py       # ä»»åŠ¡é˜Ÿåˆ—
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ wait_condition.py   # ç­‰å¾…æ¡ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ api/                    # REST API
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ execution.py        # æ‰§è¡Œæ§åˆ¶ API
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ status.py           # çŠ¶æ€æŸ¥è¯¢ API
â”‚   â”‚   â”‚   â””â”€â”€ utils/
â”‚   â”‚   â”‚       â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚       â””â”€â”€ logger.py
â”‚   â”‚   â”œâ”€â”€ tests/
â”‚   â”‚   â”‚   â”œâ”€â”€ test_executor.py
â”‚   â”‚   â”‚   â”œâ”€â”€ test_locator.py
â”‚   â”‚   â”‚   â””â”€â”€ test_ai_agent.py
â”‚   â”‚   â”œâ”€â”€ requirements.txt
â”‚   â”‚   â”œâ”€â”€ docker-compose.yml
â”‚   â”‚   â””â”€â”€ README.md
â”‚
â”œâ”€â”€ packages/                           # ã€SDK å±‚ã€‘å¯å¤ç”¨çš„æ ¸å¿ƒåº“
â”‚   â”œâ”€â”€ recorder-sdk/                   # å½•åˆ¶ SDK
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”œâ”€â”€ capture/                # æ•è·èƒ½åŠ›
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ screen_capture.py
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ window_manager.py
â”‚   â”‚   â”‚   â”œâ”€â”€ annotation/             # æ ‡æ³¨èƒ½åŠ›
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ocr.py
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ui_automation.py
â”‚   â”‚   â”‚   â””â”€â”€ serialization/          # åºåˆ—åŒ–
â”‚   â”‚   â”‚       â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚       â””â”€â”€ json_format.py
â”‚   â”‚   â”œâ”€â”€ tests/
â”‚   â”‚   â”œâ”€â”€ setup.py
â”‚   â”‚   â”œâ”€â”€ requirements.txt
â”‚   â”‚   â””â”€â”€ README.md
â”‚   â”‚
â”‚   â”œâ”€â”€ playback-sdk/                   # å›æ”¾ SDK
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”œâ”€â”€ actions/                # åŠ¨ä½œæ‰§è¡Œ
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ mouse.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ keyboard.py
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ scroll.py
â”‚   â”‚   â”‚   â”œâ”€â”€ strategy/               # æ‰§è¡Œç­–ç•¥
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ locator_strategy.py
â”‚   â”‚   â”‚   â””â”€â”€ scheduler/              # è°ƒåº¦å™¨
â”‚   â”‚   â”‚       â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚       â””â”€â”€ timeline.py
â”‚   â”‚   â”œâ”€â”€ tests/
â”‚   â”‚   â”œâ”€â”€ setup.py
â”‚   â”‚   â”œâ”€â”€ requirements.txt
â”‚   â”‚   â””â”€â”€ README.md
â”‚   â”‚
â”‚   â”œâ”€â”€ ai-decision-core/               # AI å†³ç­–æ ¸å¿ƒ
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”œâ”€â”€ agents/                 # Agent å®ç°
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ base_agent.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ openai_agent.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ deepseek_agent.py
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ local_llm_agent.py
â”‚   â”‚   â”‚   â”œâ”€â”€ prompts/                # æç¤ºè¯æ¨¡æ¿
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ templates.py
â”‚   â”‚   â”‚   â””â”€â”€ state_encoder/          # çŠ¶æ€ç¼–ç 
â”‚   â”‚   â”‚       â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚       â”œâ”€â”€ frame_encoder.py
â”‚   â”‚   â”‚       â””â”€â”€ tree_encoder.py
â”‚   â”‚   â”œâ”€â”€ tests/
â”‚   â”‚   â”œâ”€â”€ setup.py
â”‚   â”‚   â”œâ”€â”€ requirements.txt
â”‚   â”‚   â””â”€â”€ README.md
â”‚   â”‚
â”‚   â”œâ”€â”€ ocr-adapter/                    # OCR é€‚é…å™¨
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”œâ”€â”€ paddleocr/              # PaddleOCR å°è£…
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ engine.py
â”‚   â”‚   â”‚   â”œâ”€â”€ lightweight_llm/        # è½»é‡ LLM OCR
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ llm_ocr.py
â”‚   â”‚   â”‚   â””â”€â”€ postprocess/            # åå¤„ç†
â”‚   â”‚   â”‚       â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚       â””â”€â”€ text_normalize.py
â”‚   â”‚   â”œâ”€â”€ tests/
â”‚   â”‚   â”œâ”€â”€ setup.py
â”‚   â”‚   â”œâ”€â”€ requirements.txt
â”‚   â”‚   â””â”€â”€ README.md
â”‚   â”‚
â”‚   â””â”€â”€ shared/                         # å…±äº«å·¥å…·åº“
â”‚       â”œâ”€â”€ config/                     # é…ç½®ç®¡ç†
â”‚       â”‚   â”œâ”€â”€ __init__.py
â”‚       â”‚   â””â”€â”€ settings.py
â”‚       â”œâ”€â”€ logging/                    # æ—¥å¿—å·¥å…·
â”‚       â”‚   â”œâ”€â”€ __init__.py
â”‚       â”‚   â””â”€â”€ logger.py
â”‚       â”œâ”€â”€ messaging/                  # æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆå¯é€‰ï¼‰
â”‚       â”‚   â”œâ”€â”€ __init__.py
â”‚       â”‚   â””â”€â”€ rabbitmq.py
â”‚       â”œâ”€â”€ types/                      # å…¬å…±ç±»å‹å®šä¹‰
â”‚       â”‚   â”œâ”€â”€ __init__.py
â”‚       â”‚   â”œâ”€â”€ recording.py
â”‚       â”‚   â””â”€â”€ action.py
â”‚       â”œâ”€â”€ setup.py
â”‚       â”œâ”€â”€ requirements.txt
â”‚       â””â”€â”€ README.md
â”‚
â”œâ”€â”€ infra/                              # ã€åŸºç¡€è®¾æ–½ã€‘éƒ¨ç½²å’Œè¿ç»´
â”‚   â”œâ”€â”€ docker/                         # Docker é…ç½®
â”‚   â”‚   â”œâ”€â”€ docker-compose.yml          # å®Œæ•´æœåŠ¡ç¼–æ’
â”‚   â”‚   â”œâ”€â”€ docker-compose.dev.yml      # å¼€å‘ç¯å¢ƒ
â”‚   â”‚   â”œâ”€â”€ management-api.Dockerfile
â”‚   â”‚   â”œâ”€â”€ recorder-service.Dockerfile
â”‚   â”‚   â”œâ”€â”€ executor-service.Dockerfile
â”‚   â”‚   â””â”€â”€ .dockerignore
â”‚   â”‚
â”‚   â”œâ”€â”€ helm/                           # Kubernetes Helm Charts
â”‚   â”‚   â”œâ”€â”€ Chart.yaml
â”‚   â”‚   â”œâ”€â”€ values.yaml
â”‚   â”‚   â””â”€â”€ templates/
â”‚   â”‚       â”œâ”€â”€ deployment.yaml
â”‚   â”‚       â”œâ”€â”€ service.yaml
â”‚   â”‚       â””â”€â”€ ingress.yaml
â”‚   â”‚
â”‚   â””â”€â”€ minio/                          # MinIO é…ç½®
â”‚       â””â”€â”€ docker-compose.minio.yml     
â”‚
â”œâ”€â”€ data/                               # ã€æ•°æ®ç›®å½•ã€‘å­˜å‚¨ç¤ºä¾‹å’Œæµ‹è¯•æ•°æ®
â”‚   â”œâ”€â”€ recordings/              # ç¤ºä¾‹å½•åˆ¶æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ example_game_1.json
â”‚   â”‚   â””â”€â”€ example_web_automation.json
â”‚   â””â”€â”€ templates/                      # æ¨¡æ¿å›¾ç‰‡
â”‚       â””â”€â”€ buttons/
â”‚
â”œâ”€â”€ tests/                              # ã€é›†æˆæµ‹è¯•ã€‘ç«¯åˆ°ç«¯æµ‹è¯•
â”‚   â”œâ”€â”€ integration/
â”‚   â”‚   â”œâ”€â”€ test_record_play_flow.py    # å½•åˆ¶-å›æ”¾æµç¨‹æµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ test_ai_decision_flow.py    # AI å†³ç­–æµç¨‹æµ‹è¯•
â”‚   â”‚   â””â”€â”€ test_management_api.py      # ç®¡ç† API æµ‹è¯•
â”‚   â”œâ”€â”€ e2e/                            # E2E æµ‹è¯•
â”‚   â”‚   â””â”€â”€ test_full_workflow.py
â”‚   â””â”€â”€ conftest.py                     # Pytest é…ç½®
â”‚
â”œâ”€â”€ scripts/                            # ã€è„šæœ¬å·¥å…·ã€‘å¼€å‘å’Œéƒ¨ç½²è„šæœ¬
â”‚   â”œâ”€â”€ bootstrap.ps1                   # Windows åˆå§‹åŒ–è„šæœ¬
â”‚   â”œâ”€â”€ bootstrap.sh                    # Linux/macOS åˆå§‹åŒ–è„šæœ¬
â”‚   â”œâ”€â”€ dev/                            # å¼€å‘è„šæœ¬
â”‚   â”‚   â”œâ”€â”€ start_all.ps1               # å¯åŠ¨æ‰€æœ‰æœåŠ¡ (Windows)
â”‚   â”‚   â”œâ”€â”€ start_all.sh                # å¯åŠ¨æ‰€æœ‰æœåŠ¡ (Unix)
â”‚   â”‚   â”œâ”€â”€ stop_all.ps1
â”‚   â”‚   â””â”€â”€ stop_all.sh
â”‚   â”œâ”€â”€ build/                          # æ„å»ºè„šæœ¬
â”‚   â”‚   â”œâ”€â”€ build_services.ps1
â”‚   â”‚   â””â”€â”€ build_frontend.ps1
â”‚   â””â”€â”€ deploy/                         # éƒ¨ç½²è„šæœ¬
â”‚       â”œâ”€â”€ deploy_docker.sh
â”‚       â””â”€â”€ deploy_k8s.sh
```

---

## æ ¸å¿ƒæ¨¡å—è¯´æ˜

### 1. **apps/** - åº”ç”¨å±‚

#### 1.1 management-console
**åŠŸèƒ½**ï¼šTauri + React æ„å»ºçš„æ¡Œé¢ç®¡ç†ç•Œé¢

**æ ¸å¿ƒåŠŸèƒ½**ï¼š
- é¡¹ç›®ç®¡ç†ï¼ˆåˆ›å»ºã€åˆ—è¡¨ã€åˆ é™¤ï¼‰
- å½•åˆ¶æ–‡ä»¶ç®¡ç†ï¼ˆæŸ¥çœ‹ã€ç¼–è¾‘ã€æ‰§è¡Œã€åˆ é™¤ï¼‰
- èŠ‚ç‚¹ç¼–è¾‘å™¨ï¼ˆå°†èŠ‚ç‚¹è®¾ç½®ä¸º AI å†³ç­–æ¨¡å¼ï¼Œé…ç½® promptï¼‰
- çª—å£é€‰æ‹©å™¨ï¼ˆå½•åˆ¶å‰é€‰æ‹©ç›®æ ‡çª—å£æˆ–å…¨å±ï¼‰
- å®æ—¶å½•åˆ¶æ§åˆ¶ï¼ˆå¼€å§‹ã€æš‚åœã€åœæ­¢ï¼‰
- æ‰§è¡Œç›‘æ§ï¼ˆæŸ¥çœ‹å›æ”¾è¿›åº¦å’Œæ—¥å¿—ï¼‰

**æŠ€æœ¯æ ˆ**ï¼š
- å‰ç«¯ï¼šReact 18 + TypeScript + Vite
- çŠ¶æ€ç®¡ç†ï¼šZustand / Redux Toolkit
- UI åº“ï¼šAnt Design / Material-UI
- åç«¯é€šä¿¡ï¼šTauri Command + Axios

#### 1.2 desktop-recorder
**åŠŸèƒ½**ï¼šç‹¬ç«‹çš„æ¡Œé¢å½•åˆ¶å®¢æˆ·ç«¯ï¼ˆå¯é€‰ï¼‰

**è¯´æ˜**ï¼šå¦‚æœéœ€è¦çº¯å½•åˆ¶å·¥å…·ï¼Œå¯ä»¥ä½œä¸ºè½»é‡çº§ç‹¬ç«‹åº”ç”¨å‘å¸ƒã€‚

---

### 2. **services/** - æœåŠ¡å±‚ï¼ˆPython FastAPIï¼‰

#### 2.1 management-api
**èŒè´£**ï¼šé¡¹ç›®å’Œèµ„æºç®¡ç†åç«¯

**æ ¸å¿ƒåŠŸèƒ½**ï¼š
- é¡¹ç›® CRUDï¼ˆå¢åˆ æ”¹æŸ¥ï¼‰
- å½•åˆ¶æ–‡ä»¶å…ƒæ•°æ®ç®¡ç†
- å›¾ç‰‡èµ„æºä¸Šä¼ å’Œè®¿é—®ï¼ˆé€šè¿‡ MinIOï¼‰
- èŠ‚ç‚¹ç¼–è¾‘ APIï¼ˆä¿®æ”¹ JSON ä¸­çš„ modeã€prompt ç­‰ï¼‰

**æŠ€æœ¯æ ˆ**ï¼š
- FastAPI + Pydantic
- SQLAlchemyï¼ˆæ•°æ®åº“ ORMï¼‰
- MinIO SDKï¼ˆæ–‡ä»¶å­˜å‚¨ï¼‰

#### 2.2 recorder-service
**èŒè´£**ï¼šå½•åˆ¶æµç¨‹ç®¡ç†å’Œå±å¹•æ•è·

**æ ¸å¿ƒåŠŸèƒ½**ï¼š
- è·¨å¹³å°å±å¹•æ•è·ï¼ˆWindows DXGI / macOS AVFoundationï¼‰
- é¼ æ ‡ã€é”®ç›˜äº‹ä»¶ç›‘å¬ï¼ˆpynputï¼‰
- å®æ—¶ OCR æ–‡æœ¬æå–ï¼ˆPaddleOCRï¼‰
- UI Automation æ ‘æå–ï¼ˆpywinauto / mac-automationï¼‰
- è‡ªåŠ¨æˆªå›¾å¹¶ä¸Šä¼  MinIO
- ç”Ÿæˆæ ‡å‡†åŒ– JSON å½•åˆ¶æ–‡ä»¶

**æŠ€æœ¯æ ˆ**ï¼š
- FastAPI
- DXGI (Windows) / AVFoundation (macOS)
- pynputï¼ˆè¾“å…¥ç›‘å¬ï¼‰
- PaddleOCR
- pywinauto / Accessibility API

#### 2.3 executor-service
**èŒè´£**ï¼šå›æ”¾æ‰§è¡Œå’Œ AI å†³ç­–

**æ ¸å¿ƒåŠŸèƒ½**ï¼š
- åŠ è½½å½•åˆ¶ JSON æ–‡ä»¶
- æ™ºèƒ½å®šä½ç­–ç•¥ï¼ˆUI Tree â†’ OCR â†’ Template â†’ Coordï¼‰
- åŠ¨ä½œæ‰§è¡Œï¼ˆç‚¹å‡»ã€æ»šåŠ¨ã€æ‹–åŠ¨ï¼‰
- AI Agent å†³ç­–ï¼ˆè°ƒç”¨ LLM è¿›è¡Œä¸‹ä¸€æ­¥åˆ¤æ–­ï¼‰
- å¼‚æ­¥ä»»åŠ¡æ”¯æŒï¼ˆç­‰å¾…å…ƒç´ ã€é‡è¯•æœºåˆ¶ï¼‰
- æ‰§è¡Œæ—¥å¿—å’ŒçŠ¶æ€ä¸ŠæŠ¥

**å®šä½ä¼˜å…ˆçº§**ï¼š
1. **UI Accessibility Tree**ï¼šé€šè¿‡å…ƒç´ åç§°ç²¾ç¡®å®šä½
2. **OCR æ–‡æœ¬å®šä½**ï¼šåœ¨å±å¹•æµä¸­æŸ¥æ‰¾æ–‡æœ¬
3. **æ¨¡æ¿åŒ¹é…**ï¼šå›¾åƒç›¸ä¼¼åº¦åŒ¹é…
4. **åæ ‡å›é€€**ï¼šä½¿ç”¨å½•åˆ¶æ—¶çš„åæ ‡

**æŠ€æœ¯æ ˆ**ï¼š
- FastAPI
- PyAutoGUIï¼ˆåŠ¨ä½œæ‰§è¡Œï¼‰
- PaddleOCR
- OpenCVï¼ˆæ¨¡æ¿åŒ¹é…ï¼‰
- OpenAI SDK / DeepSeek API

#### 2.4 workflow-coordinatorï¼ˆå¯é€‰ï¼‰
**èŒè´£**ï¼šä»»åŠ¡è°ƒåº¦å’Œæµç¨‹ç¼–æ’

**è¯´æ˜**ï¼šç”¨äºå¤æ‚åœºæ™¯ï¼Œå¦‚å¤šä¸ªå½•åˆ¶æ–‡ä»¶ä¸²è”æ‰§è¡Œã€æ–­ç‚¹æ¢å¤ç­‰ã€‚

---

### 3. **packages/** - SDK å±‚ï¼ˆå¯å¤ç”¨åº“ï¼‰

#### 3.1 recorder-sdk
**èŒè´£**ï¼šå½•åˆ¶èƒ½åŠ›å°è£…

**æä¾›**ï¼š
- å±å¹•æ•è·æ¥å£
- è¾“å…¥ç›‘å¬æ¥å£
- OCR å’Œ UI æ ‘æå–
- JSON åºåˆ—åŒ–æ ¼å¼

#### 3.2 playback-sdk
**èŒè´£**ï¼šå›æ”¾èƒ½åŠ›å°è£…

**æä¾›**ï¼š
- é¼ æ ‡ã€é”®ç›˜åŠ¨ä½œæ‰§è¡Œ
- å®šä½ç­–ç•¥æ¥å£
- æ—¶é—´çº¿è°ƒåº¦å™¨

#### 3.3 ai-decision-core
**èŒè´£**ï¼šAI å†³ç­–æ ¸å¿ƒ

**æä¾›**ï¼š
- Agent æ ‡å‡†æ¥å£
- å¤šç§ LLM å®ç°ï¼ˆOpenAIã€DeepSeekã€æœ¬åœ° Llamaï¼‰
- çŠ¶æ€ç¼–ç å™¨ï¼ˆå°†å±å¹•å¸§å’Œ UI æ ‘è½¬æ¢ä¸º LLM è¾“å…¥ï¼‰

#### 3.4 ocr-adapter
**èŒè´£**ï¼šOCR èƒ½åŠ›é€‚é…

**æä¾›**ï¼š
- PaddleOCR å°è£…
- è½»é‡ LLM OCRï¼ˆå¦‚ GPT-4V æˆªå›¾è¯†åˆ«ï¼‰
- æ–‡æœ¬åå¤„ç†å’Œå½’ä¸€åŒ–

#### 3.5 shared
**èŒè´£**ï¼šå…¬å…±å·¥å…·åº“

**æä¾›**ï¼š
- é…ç½®ç®¡ç†ï¼ˆYAML/JSON é…ç½®åŠ è½½ï¼‰
- æ—¥å¿—å·¥å…·ï¼ˆç»Ÿä¸€æ—¥å¿—æ ¼å¼ï¼‰
- æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆå¯é€‰ï¼Œç”¨äºæœåŠ¡é—´é€šä¿¡ï¼‰
- å…¬å…±ç±»å‹å®šä¹‰

---

### 4. **infra/** - åŸºç¡€è®¾æ–½

#### 4.1 docker/
**è¯´æ˜**ï¼šDocker Compose ä¸€é”®éƒ¨ç½²æ‰€æœ‰æœåŠ¡

**åŒ…å«**ï¼š
- MinIOï¼ˆæ–‡ä»¶å­˜å‚¨ï¼‰
- PostgreSQLï¼ˆå¯é€‰ï¼Œå…ƒæ•°æ®å­˜å‚¨ï¼‰
- management-api
- recorder-service
- executor-service

#### 4.2 helm/
**è¯´æ˜**ï¼šKubernetes éƒ¨ç½²é…ç½®ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰

#### 4.3 minio/
**è¯´æ˜**ï¼šMinIO ç‹¬ç«‹éƒ¨ç½²é…ç½®

**Bucket ç»“æ„**ï¼š
```
teachplay-storage/
â”œâ”€â”€ projects/
â”‚   â”œâ”€â”€ project-{id}/
â”‚   â”‚   â”œâ”€â”€ recordings/
â”‚   â”‚   â”‚   â””â”€â”€ recording-{timestamp}.json
â”‚   â”‚   â””â”€â”€ resources/
â”‚   â”‚       â”œâ”€â”€ screenshots/
â”‚   â”‚       â”‚   â””â”€â”€ click-{timestamp}.png
â”‚   â”‚       â””â”€â”€ templates/
â”‚   â”‚           â””â”€â”€ button-{name}.png
```

---

### 5. **data/** - æ•°æ®ç›®å½•

**è¯´æ˜**ï¼š
- `sample_recordings/`ï¼šç¤ºä¾‹å½•åˆ¶æ–‡ä»¶ï¼ˆç”¨äºæ¼”ç¤ºå’Œæµ‹è¯•ï¼‰
- `fixtures/`ï¼šæµ‹è¯•å›ºä»¶
- `templates/`ï¼šå…¬å…±æ¨¡æ¿å›¾ç‰‡

---

### 6. **tests/** - é›†æˆæµ‹è¯•

**è¯´æ˜**ï¼š
- ç«¯åˆ°ç«¯æµ‹è¯•ï¼ˆå½•åˆ¶ â†’ ä¸Šä¼  â†’ ç¼–è¾‘ â†’ å›æ”¾ï¼‰
- API é›†æˆæµ‹è¯•
- AI å†³ç­–æµç¨‹æµ‹è¯•

---

### 7. **scripts/** - è„šæœ¬å·¥å…·

#### bootstrap.ps1 / bootstrap.sh
**åŠŸèƒ½**ï¼šé¡¹ç›®åˆå§‹åŒ–è„šæœ¬

**æ‰§è¡Œå†…å®¹**ï¼š
1. æ£€æŸ¥ä¾èµ–ï¼ˆPythonã€Node.jsã€Rustï¼‰
2. å®‰è£… Python ä¾èµ–
3. å®‰è£… Node.js ä¾èµ–
4. æ„å»º Tauri åº”ç”¨
5. å¯åŠ¨ Docker Composeï¼ˆMinIO + æœåŠ¡ï¼‰

#### dev/start_all.ps1
**åŠŸèƒ½**ï¼šå¯åŠ¨æ‰€æœ‰å¼€å‘æœåŠ¡

```powershell
# å¯åŠ¨ MinIO
docker-compose -f infra/docker/docker-compose.dev.yml up -d minio

# å¯åŠ¨ API æœåŠ¡
cd services/management-api; uvicorn src.main:app --reload &
cd services/recorder-service; uvicorn src.main:app --port 8001 --reload &
cd services/executor-service; uvicorn src.main:app --port 8002 --reload &

# å¯åŠ¨å‰ç«¯
cd apps/management-console; npm run tauri dev
```

---

## å½•åˆ¶ JSON æ ¼å¼è¯´æ˜

å½•åˆ¶æ–‡ä»¶ç¤ºä¾‹å‚è€ƒ `TODO.md` ä¸­çš„è¯¦ç»†æ ¼å¼ï¼Œæ¯ä¸ªåŠ¨ä½œåŒ…å«ï¼š

```json
{
  "type": "click | scroll | drag | keyboard",
  "timestamp": 1712300000.10,
  "text": "æŒ‰é’®æ–‡æœ¬ï¼ˆOCR æå–ï¼‰",
  "position": {"x": 312, "y": 450},
  "mode": "ui_tree | ocr_text | image_template | canvas_pattern | ai_decision",
  "context": {
    "ocr_candidates": ["å€™é€‰æ–‡æœ¬1", "å€™é€‰æ–‡æœ¬2"],
    "ui_tree_text": "Button: æŒ‰é’®åç§°",
    "window": {
      "process": "chrome.exe",
      "title": "çª—å£æ ‡é¢˜",
      "url": "https://example.com"
    }
  },
  "ai_hint": "AI å†³ç­–æç¤ºè¯ï¼ˆä»…å½“ mode=ai_decisionï¼‰"
}
```

---

## å›æ”¾å®šä½ç­–ç•¥

æ‰§è¡Œå™¨ä¼šæŒ‰ä¼˜å…ˆçº§å°è¯•å®šä½ç›®æ ‡å…ƒç´ ï¼š

1. **UI Accessibility Tree åŒ¹é…**ï¼šé€šè¿‡å…ƒç´ åç§°ã€è§’è‰²ç²¾ç¡®å®šä½
2. **OCR æ–‡æœ¬å®šä½**ï¼šåœ¨å½“å‰å±å¹•å¸§ä¸­æŸ¥æ‰¾æ–‡æœ¬
3. **æ¨¡æ¿å›¾åŒ¹é…**ï¼šä¸å½•åˆ¶æ—¶çš„æˆªå›¾è¿›è¡Œç›¸ä¼¼åº¦åŒ¹é…
4. **åæ ‡å›é€€**ï¼šç›´æ¥ä½¿ç”¨å½•åˆ¶æ—¶çš„åæ ‡ï¼ˆæœ€ä¸å¯é ï¼‰

---

## AI å†³ç­–æµç¨‹

å½“èŠ‚ç‚¹ `mode = "ai_decision"` æ—¶ï¼š

1. æ•è·å½“å‰å±å¹•å¸§
2. æå– UI æ ‘å’Œ OCR æ–‡æœ¬
3. å°†çŠ¶æ€ç¼–ç ä¸ºæ–‡æœ¬ï¼ˆState Encoderï¼‰
4. è°ƒç”¨ LLM Agentï¼ˆä¼ å…¥ `ai_hint` ä½œä¸º promptï¼‰
5. Agent è¿”å›å†³ç­–ï¼ˆå¦‚ `{action: "click", target: "ç¡®å®š"}`ï¼‰
6. ActionResolver è§£æå¹¶æ‰§è¡ŒåŠ¨ä½œ

---

## æŠ€æœ¯æ ˆæ€»ç»“

| å±‚çº§ | æŠ€æœ¯æ ˆ |
|------|--------|
| **å‰ç«¯** | React 18 + TypeScript + Vite + Ant Design |
| **æ¡Œé¢å£³** | Tauri (Rust) |
| **åç«¯æœåŠ¡** | Python 3.10+ + FastAPI + Pydantic |
| **å±å¹•æ•è·** | DXGI (Windows) / AVFoundation (macOS) |
| **è¾“å…¥ç›‘å¬** | pynput |
| **OCR** | PaddleOCR / GPT-4V |
| **UI è‡ªåŠ¨åŒ–** | pywinauto (Windows) / mac-automation (macOS) |
| **åŠ¨ä½œæ‰§è¡Œ** | PyAutoGUI |
| **AI å†³ç­–** | OpenAI API / DeepSeek / Local Llama |
| **æ–‡ä»¶å­˜å‚¨** | MinIO |
| **æ•°æ®åº“** | PostgreSQL (å¯é€‰) / SQLite |
| **å®¹å™¨åŒ–** | Docker + Docker Compose |
| **ç¼–æ’** | Kubernetes (å¯é€‰) |

---

## å¼€å‘æµç¨‹

### 1. ç¯å¢ƒåˆå§‹åŒ–
```powershell
# Windows
.\scripts\bootstrap.ps1

# macOS/Linux
bash scripts/bootstrap.sh
```

### 2. å¯åŠ¨å¼€å‘æœåŠ¡
```powershell
.\scripts\dev\start_all.ps1
```

### 3. è®¿é—®ç®¡ç†ç•Œé¢
- Tauri åº”ç”¨ä¼šè‡ªåŠ¨å¯åŠ¨
- æˆ–è®¿é—®ï¼šhttp://localhost:5173

### 4. API æ–‡æ¡£
- Management API: http://localhost:8000/docs
- Recorder Service: http://localhost:8001/docs
- Executor Service: http://localhost:8002/docs

---

## éƒ¨ç½²è¯´æ˜

### Docker Compose éƒ¨ç½²
```powershell
cd infra/docker
docker-compose up -d
```

### Kubernetes éƒ¨ç½²
```bash
cd infra/helm
helm install teachplay . -f values.yaml
```

---

## ä¸‹ä¸€æ­¥å¼€å‘è®¡åˆ’

æ ¹æ® `TODO.md` ä¸­çš„é˜¶æ®µåˆ’åˆ†ï¼š

âœ… **MVP é˜¶æ®µï¼ˆå·²å®Œæˆæ¶æ„è®¾è®¡ï¼‰**
- [ ] å®ç°åŸºç¡€å½•åˆ¶å’Œå›æ”¾åŠŸèƒ½
- [ ] é›†æˆ PaddleOCR
- [ ] å®Œæˆç®¡ç†ç•Œé¢åŸºç¡€åŠŸèƒ½

ğŸš§ **å¢å¼ºé˜¶æ®µï¼ˆè¿›è¡Œä¸­ï¼‰**
- [ ] è·¨å¹³å°å±å¹•æ•è·ï¼ˆWindows + macOSï¼‰
- [ ] æ™ºèƒ½å®šä½ç­–ç•¥ï¼ˆUI Tree + OCR + Templateï¼‰
- [ ] AI å†³ç­–æ’ä»¶ç³»ç»Ÿ

ğŸ”® **é«˜çº§é˜¶æ®µï¼ˆè§„åˆ’ä¸­ï¼‰**
- [ ] å·¥ä½œæµç¼–æ’ï¼ˆå¤šå½•åˆ¶æ–‡ä»¶ä¸²è”ï¼‰
- [ ] æ–­ç‚¹æ¢å¤
- [ ] å¯è§†åŒ–è°ƒè¯•å·¥å…·

---

## è®¸å¯è¯

[å¾…å®šï¼šMIT / Apache 2.0]

---

## è”ç³»æ–¹å¼

- é¡¹ç›®ä¸»é¡µï¼š[GitHub Repository]
- æ–‡æ¡£ï¼š[Documentation Site]
- é—®é¢˜åé¦ˆï¼š[Issues]

---

**æœ€åæ›´æ–°æ—¶é—´**ï¼š2025-11-25
